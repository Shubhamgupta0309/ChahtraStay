import{g as aa,d as sa,e as ra,j as e,r as p,a as Y,u as na,L as ia}from"./index-CbzP6hy5.js";import{T as la,a as oa,b as Ee,c as Ae}from"./tabs-mbZmUTMi.js";import{C as $,c as ae,a as K,b as U}from"./card-BI2sKOiD.js";import{a as ge,B as E,u as re,S as ca,e as da,c as V,b as Ge}from"./createLucideIcon-AdlLZUEa.js";import{c as De,u as Pe,a as Te,P as J,b as Z,h as ma,d as Se,i as ua,D as pa,g as _e,T as We,X as ha}from"./toaster-CnzL-6es.js";import{I as D}from"./input-XUYr8Ntf.js";import{S as Ye,u as Ke,H as fa}from"./Header-CuRLoS_H.js";import{h as xa,R as ga,e as ya,F as va,u as Ze,C as Je,S as ve,a as be,b as Xe,c as je,d as de}from"./select-CyxRNjYH.js";import{S as Qe}from"./shield-CHdPAy6n.js";import{P as ba,a as ja,S as Na,b as wa}from"./popover-DGZhbwlO.js";import{T as Ne}from"./textarea-CyHokRfI.js";import{L as we}from"./label-D0bADn3j.js";import{U as Ue}from"./users-DEmpihHg.js";import"./index-DwRZfiEm.js";import"./index-DYIKVHMg.js";import"./house-c3-BPOGx.js";import"./chevron-down-BxKGjAz6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],He=ge("Building2",ka);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Da=ge("CalendarRange",Ca);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],et=ge("ShieldOff",Sa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tt=ge("Trash2",Ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Aa=ge("Trash",Ea);var fe={},ke=function(){return ke=Object.assign||function(a){for(var s,l=1,c=arguments.length;l<c;l++)for(var t in s=arguments[l])Object.prototype.hasOwnProperty.call(s,t)&&(a[t]=s[t]);return a},ke.apply(this,arguments)},Ta=function(){function a(s,l,c){var t=this;this.endVal=l,this.options=c,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(n){t.startTime||(t.startTime=n);var m=n-t.startTime;t.remaining=t.duration-m,t.useEasing?t.countDown?t.frameVal=t.startVal-t.easingFn(m,0,t.startVal-t.endVal,t.duration):t.frameVal=t.easingFn(m,t.startVal,t.endVal-t.startVal,t.duration):t.frameVal=t.startVal+(t.endVal-t.startVal)*(m/t.duration);var h=t.countDown?t.frameVal<t.endVal:t.frameVal>t.endVal;t.frameVal=h?t.endVal:t.frameVal,t.frameVal=Number(t.frameVal.toFixed(t.options.decimalPlaces)),t.printValue(t.frameVal),m<t.duration?t.rAF=requestAnimationFrame(t.count):t.finalEndVal!==null?t.update(t.finalEndVal):t.options.onCompleteCallback&&t.options.onCompleteCallback()},this.formatNumber=function(n){var m,h,f,g,j=n<0?"-":"";m=Math.abs(n).toFixed(t.options.decimalPlaces);var u=(m+="").split(".");if(h=u[0],f=u.length>1?t.options.decimal+u[1]:"",t.options.useGrouping){g="";for(var y=3,k=0,b=0,S=h.length;b<S;++b)t.options.useIndianSeparators&&b===4&&(y=2,k=1),b!==0&&k%y==0&&(g=t.options.separator+g),k++,g=h[S-b-1]+g;h=g}return t.options.numerals&&t.options.numerals.length&&(h=h.replace(/[0-9]/g,function(A){return t.options.numerals[+A]}),f=f.replace(/[0-9]/g,function(A){return t.options.numerals[+A]})),j+t.options.prefix+h+f+t.options.suffix},this.easeOutExpo=function(n,m,h,f){return h*(1-Math.pow(2,-10*n/f))*1024/1023+m},this.options=ke(ke({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof s=="string"?document.getElementById(s):s,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,s):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return t.handleScroll(t)}),window.onscroll=function(){window.onScrollFns.forEach(function(n){return n()})},this.handleScroll(this)))}return a.prototype.handleScroll=function(s){if(s&&window&&!s.once){var l=window.innerHeight+window.scrollY,c=s.el.getBoundingClientRect(),t=c.top+window.pageYOffset,n=c.top+c.height+window.pageYOffset;n<l&&n>window.scrollY&&s.paused?(s.paused=!1,setTimeout(function(){return s.start()},s.options.scrollSpyDelay),s.options.scrollSpyOnce&&(s.once=!0)):(window.scrollY>n||t>l)&&!s.paused&&s.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var l=s-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=s;var c=this.countDown?1:-1;this.endVal=s+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(s){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),s&&(this.options.onCompleteCallback=s),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(s){var l;if(this.el){var c=this.formattingFn(s);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},a.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},a.prototype.validateValue=function(s){var l=Number(s);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(s),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a}();const Pa=Object.freeze(Object.defineProperty({__proto__:null,CountUp:Ta},Symbol.toStringTag,{value:"Module"})),_a=aa(Pa);var Be;function Ia(){if(Be)return fe;Be=1,Object.defineProperty(fe,"__esModule",{value:!0});var a=sa(),s=_a;function l(r,i){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var d,v,w,C,F=[],_=!0,I=!1;try{if(w=(o=o.call(r)).next,i!==0)for(;!(_=(d=w.call(o)).done)&&(F.push(d.value),F.length!==i);_=!0);}catch(O){I=!0,v=O}finally{try{if(!_&&o.return!=null&&(C=o.return(),Object(C)!==C))return}finally{if(I)throw v}}return F}}function c(r,i){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);i&&(d=d.filter(function(v){return Object.getOwnPropertyDescriptor(r,v).enumerable})),o.push.apply(o,d)}return o}function t(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?c(Object(o),!0).forEach(function(d){h(r,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(d){Object.defineProperty(r,d,Object.getOwnPropertyDescriptor(o,d))})}return r}function n(r,i){if(typeof r!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var d=o.call(r,i);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}function m(r){var i=n(r,"string");return typeof i=="symbol"?i:String(i)}function h(r,i,o){return i=m(i),i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r}function f(){return f=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},f.apply(this,arguments)}function g(r,i){if(r==null)return{};var o={},d=Object.keys(r),v,w;for(w=0;w<d.length;w++)v=d[w],!(i.indexOf(v)>=0)&&(o[v]=r[v]);return o}function j(r,i){if(r==null)return{};var o=g(r,i),d,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(r);for(v=0;v<w.length;v++)d=w[v],!(i.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(r,d)&&(o[d]=r[d])}return o}function u(r,i){return y(r)||l(r,i)||k(r,i)||S()}function y(r){if(Array.isArray(r))return r}function k(r,i){if(r){if(typeof r=="string")return b(r,i);var o=Object.prototype.toString.call(r).slice(8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return Array.from(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return b(r,i)}}function b(r,i){(i==null||i>r.length)&&(i=r.length);for(var o=0,d=new Array(i);o<i;o++)d[o]=r[o];return d}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?a.useLayoutEffect:a.useEffect;function N(r){var i=a.useRef(r);return A(function(){i.current=r}),a.useCallback(function(){for(var o=arguments.length,d=new Array(o),v=0;v<o;v++)d[v]=arguments[v];return i.current.apply(void 0,d)},[])}var T=function(i,o){var d=o.decimal,v=o.decimals,w=o.duration,C=o.easingFn,F=o.end,_=o.formattingFn,I=o.numerals,O=o.prefix,Q=o.separator,ee=o.start,ie=o.suffix,le=o.useEasing,q=o.useGrouping,B=o.useIndianSeparators,oe=o.enableScrollSpy,L=o.scrollSpyDelay,ce=o.scrollSpyOnce,G=o.plugin;return new s.CountUp(i,F,{startVal:ee,duration:w,decimal:d,decimalPlaces:v,easingFn:C,formattingFn:_,numerals:I,separator:Q,prefix:O,suffix:ie,plugin:G,useEasing:le,useIndianSeparators:B,useGrouping:q,enableScrollSpy:oe,scrollSpyDelay:L,scrollSpyOnce:ce})},M=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],R={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},P=function(i){var o=Object.fromEntries(Object.entries(i).filter(function(z){var he=u(z,2),ye=he[1];return ye!==void 0})),d=a.useMemo(function(){return t(t({},R),o)},[i]),v=d.ref,w=d.startOnMount,C=d.enableReinitialize,F=d.delay,_=d.onEnd,I=d.onStart,O=d.onPauseResume,Q=d.onReset,ee=d.onUpdate,ie=j(d,M),le=a.useRef(),q=a.useRef(),B=a.useRef(!1),oe=N(function(){return T(typeof v=="string"?v:v.current,ie)}),L=N(function(z){var he=le.current;if(he&&!z)return he;var ye=oe();return le.current=ye,ye}),ce=N(function(){var z=function(){return L(!0).start(function(){_==null||_({pauseResume:G,reset:W,start:pe,update:ue})})};F&&F>0?q.current=setTimeout(z,F*1e3):z(),I==null||I({pauseResume:G,reset:W,update:ue})}),G=N(function(){L().pauseResume(),O==null||O({reset:W,start:pe,update:ue})}),W=N(function(){L().el&&(q.current&&clearTimeout(q.current),L().reset(),Q==null||Q({pauseResume:G,start:pe,update:ue}))}),ue=N(function(z){L().update(z),ee==null||ee({pauseResume:G,reset:W,start:pe})}),pe=N(function(){W(),ce()}),Re=N(function(z){w&&(z&&W(),ce())});return a.useEffect(function(){B.current?C&&Re(!0):(B.current=!0,Re())},[C,B,Re,F,i.start,i.suffix,i.prefix,i.duration,i.separator,i.decimals,i.decimal,i.formattingFn]),a.useEffect(function(){return function(){W()}},[W]),{start:pe,pauseResume:G,reset:W,update:ue,getCountUp:L}},ne=["className","redraw","containerProps","children","style"],x=function(i){var o=i.className,d=i.redraw,v=i.containerProps,w=i.children,C=i.style,F=j(i,ne),_=a.useRef(null),I=a.useRef(!1),O=P(t(t({},F),{},{ref:_,startOnMount:typeof w!="function"||i.delay===0,enableReinitialize:!1})),Q=O.start,ee=O.reset,ie=O.update,le=O.pauseResume,q=O.getCountUp,B=N(function(){Q()}),oe=N(function(G){i.preserveValue||ee(),ie(G)}),L=N(function(){if(typeof i.children=="function"&&!(_.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}q()});a.useEffect(function(){L()},[L]),a.useEffect(function(){I.current&&oe(i.end)},[i.end,oe]);var ce=d&&i;return a.useEffect(function(){d&&I.current&&B()},[B,d,ce]),a.useEffect(function(){!d&&I.current&&B()},[B,d,i.start,i.suffix,i.prefix,i.duration,i.separator,i.decimals,i.decimal,i.className,i.formattingFn]),a.useEffect(function(){I.current=!0},[]),typeof w=="function"?w({countUpRef:_,start:Q,reset:ee,update:ie,pauseResume:le,getCountUp:q}):a.createElement("span",f({className:o,ref:_,style:C},v),typeof i.start<"u"?q().formattingFn(i.start):"")};return fe.default=x,fe.useCountUp=P,fe}var Oa=Ia();const ze=ra(Oa),Ma=({hostelSearchQuery:a,setHostelSearchQuery:s})=>{const l=c=>{s(c.target.value)};return e.jsxs("div",{className:"flex flex-row justify-center space-x-2",children:[e.jsx(D,{type:"text",placeholder:"Enter hostel name, location, price...",value:a,onChange:l,className:"flex flex-row justify-center space-x-2"}),e.jsx(E,{type:"submit",variant:"outline",size:"icon",children:e.jsx(Ye,{className:"h-4 w-4"})})]})};var Ie="Dialog",[at,st]=De(Ie),[Fa,H]=at(Ie),rt=a=>{const{__scopeDialog:s,children:l,open:c,defaultOpen:t,onOpenChange:n,modal:m=!0}=a,h=p.useRef(null),f=p.useRef(null),[g=!1,j]=Pe({prop:c,defaultProp:t,onChange:n});return e.jsx(Fa,{scope:s,triggerRef:h,contentRef:f,contentId:Te(),titleId:Te(),descriptionId:Te(),open:g,onOpenChange:j,onOpenToggle:p.useCallback(()=>j(u=>!u),[j]),modal:m,children:l})};rt.displayName=Ie;var nt="DialogTrigger",it=p.forwardRef((a,s)=>{const{__scopeDialog:l,...c}=a,t=H(nt,l),n=re(s,t.triggerRef);return e.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":Fe(t.open),...c,ref:n,onClick:Z(a.onClick,t.onOpenToggle)})});it.displayName=nt;var Oe="DialogPortal",[Va,lt]=at(Oe,{forceMount:void 0}),ot=a=>{const{__scopeDialog:s,forceMount:l,children:c,container:t}=a,n=H(Oe,s);return e.jsx(Va,{scope:s,forceMount:l,children:p.Children.map(c,m=>e.jsx(Se,{present:l||n.open,children:e.jsx(ua,{asChild:!0,container:t,children:m})}))})};ot.displayName=Oe;var Ce="DialogOverlay",ct=p.forwardRef((a,s)=>{const l=lt(Ce,a.__scopeDialog),{forceMount:c=l.forceMount,...t}=a,n=H(Ce,a.__scopeDialog);return n.modal?e.jsx(Se,{present:c||n.open,children:e.jsx(La,{...t,ref:s})}):null});ct.displayName=Ce;var La=p.forwardRef((a,s)=>{const{__scopeDialog:l,...c}=a,t=H(Ce,l);return e.jsx(ga,{as:ca,allowPinchZoom:!0,shards:[t.contentRef],children:e.jsx(J.div,{"data-state":Fe(t.open),...c,ref:s,style:{pointerEvents:"auto",...c.style}})})}),se="DialogContent",dt=p.forwardRef((a,s)=>{const l=lt(se,a.__scopeDialog),{forceMount:c=l.forceMount,...t}=a,n=H(se,a.__scopeDialog);return e.jsx(Se,{present:c||n.open,children:n.modal?e.jsx($a,{...t,ref:s}):e.jsx(Ua,{...t,ref:s})})});dt.displayName=se;var $a=p.forwardRef((a,s)=>{const l=H(se,a.__scopeDialog),c=p.useRef(null),t=re(s,l.contentRef,c);return p.useEffect(()=>{const n=c.current;if(n)return xa(n)},[]),e.jsx(mt,{...a,ref:t,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(a.onCloseAutoFocus,n=>{var m;n.preventDefault(),(m=l.triggerRef.current)==null||m.focus()}),onPointerDownOutside:Z(a.onPointerDownOutside,n=>{const m=n.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0;(m.button===2||h)&&n.preventDefault()}),onFocusOutside:Z(a.onFocusOutside,n=>n.preventDefault())})}),Ua=p.forwardRef((a,s)=>{const l=H(se,a.__scopeDialog),c=p.useRef(!1),t=p.useRef(!1);return e.jsx(mt,{...a,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var m,h;(m=a.onCloseAutoFocus)==null||m.call(a,n),n.defaultPrevented||(c.current||(h=l.triggerRef.current)==null||h.focus(),n.preventDefault()),c.current=!1,t.current=!1},onInteractOutside:n=>{var f,g;(f=a.onInteractOutside)==null||f.call(a,n),n.defaultPrevented||(c.current=!0,n.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const m=n.target;((g=l.triggerRef.current)==null?void 0:g.contains(m))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&t.current&&n.preventDefault()}})}),mt=p.forwardRef((a,s)=>{const{__scopeDialog:l,trapFocus:c,onOpenAutoFocus:t,onCloseAutoFocus:n,...m}=a,h=H(se,l),f=p.useRef(null),g=re(s,f);return ya(),e.jsxs(e.Fragment,{children:[e.jsx(va,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:t,onUnmountAutoFocus:n,children:e.jsx(pa,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Fe(h.open),...m,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ba,{titleId:h.titleId}),e.jsx(qa,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Me="DialogTitle",ut=p.forwardRef((a,s)=>{const{__scopeDialog:l,...c}=a,t=H(Me,l);return e.jsx(J.h2,{id:t.titleId,...c,ref:s})});ut.displayName=Me;var pt="DialogDescription",ht=p.forwardRef((a,s)=>{const{__scopeDialog:l,...c}=a,t=H(pt,l);return e.jsx(J.p,{id:t.descriptionId,...c,ref:s})});ht.displayName=pt;var ft="DialogClose",xt=p.forwardRef((a,s)=>{const{__scopeDialog:l,...c}=a,t=H(ft,l);return e.jsx(J.button,{type:"button",...c,ref:s,onClick:Z(a.onClick,()=>t.onOpenChange(!1))})});xt.displayName=ft;function Fe(a){return a?"open":"closed"}var gt="DialogTitleWarning",[Ha,yt]=ma(gt,{contentName:se,titleName:Me,docsSlug:"dialog"}),Ba=({titleId:a})=>{const s=yt(gt),l=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return p.useEffect(()=>{a&&(document.getElementById(a)||console.error(l))},[l,a]),null},za="DialogDescriptionWarning",qa=({contentRef:a,descriptionId:s})=>{const c=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yt(za).contentName}}.`;return p.useEffect(()=>{var n;const t=(n=a.current)==null?void 0:n.getAttribute("aria-describedby");s&&t&&(document.getElementById(s)||console.warn(c))},[c,a,s]),null},Ga=rt,Wa=it,Ya=ot,Ka=ct,Za=dt,Ja=ut,Xa=ht,vt=xt,bt="AlertDialog",[Qa,Gs]=De(bt,[st]),X=st(),jt=a=>{const{__scopeAlertDialog:s,...l}=a,c=X(s);return e.jsx(Ga,{...c,...l,modal:!0})};jt.displayName=bt;var es="AlertDialogTrigger",Nt=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,t=X(l);return e.jsx(Wa,{...t,...c,ref:s})});Nt.displayName=es;var ts="AlertDialogPortal",wt=a=>{const{__scopeAlertDialog:s,...l}=a,c=X(s);return e.jsx(Ya,{...c,...l})};wt.displayName=ts;var as="AlertDialogOverlay",kt=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,t=X(l);return e.jsx(Ka,{...t,...c,ref:s})});kt.displayName=as;var me="AlertDialogContent",[ss,rs]=Qa(me),Ct=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,children:c,...t}=a,n=X(l),m=p.useRef(null),h=re(s,m),f=p.useRef(null);return e.jsx(Ha,{contentName:me,titleName:Dt,docsSlug:"alert-dialog",children:e.jsx(ss,{scope:l,cancelRef:f,children:e.jsxs(Za,{role:"alertdialog",...n,...t,ref:h,onOpenAutoFocus:Z(t.onOpenAutoFocus,g=>{var j;g.preventDefault(),(j=f.current)==null||j.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(da,{children:c}),e.jsx(is,{contentRef:m})]})})})});Ct.displayName=me;var Dt="AlertDialogTitle",St=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,t=X(l);return e.jsx(Ja,{...t,...c,ref:s})});St.displayName=Dt;var Rt="AlertDialogDescription",Et=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,t=X(l);return e.jsx(Xa,{...t,...c,ref:s})});Et.displayName=Rt;var ns="AlertDialogAction",At=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,t=X(l);return e.jsx(vt,{...t,...c,ref:s})});At.displayName=ns;var Tt="AlertDialogCancel",Pt=p.forwardRef((a,s)=>{const{__scopeAlertDialog:l,...c}=a,{cancelRef:t}=rs(Tt,l),n=X(l),m=re(s,t);return e.jsx(vt,{...n,...c,ref:m})});Pt.displayName=Tt;var is=({contentRef:a})=>{const s=`\`${me}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${me}\` by passing a \`${Rt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${me}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var c;document.getElementById((c=a.current)==null?void 0:c.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},ls=jt,os=Nt,cs=wt,_t=kt,It=Ct,Ot=At,Mt=Pt,Ft=St,Vt=Et;const ds=ls,ms=os,us=cs,Lt=p.forwardRef(({className:a,...s},l)=>e.jsx(_t,{className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:l}));Lt.displayName=_t.displayName;const $t=p.forwardRef(({className:a,...s},l)=>e.jsxs(us,{children:[e.jsx(Lt,{}),e.jsx(It,{ref:l,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]}));$t.displayName=It.displayName;const Ut=({className:a,...s})=>e.jsx("div",{className:V("flex flex-col space-y-2 text-center sm:text-left",a),...s});Ut.displayName="AlertDialogHeader";const Ht=({className:a,...s})=>e.jsx("div",{className:V("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});Ht.displayName="AlertDialogFooter";const Bt=p.forwardRef(({className:a,...s},l)=>e.jsx(Ft,{ref:l,className:V("text-lg font-semibold",a),...s}));Bt.displayName=Ft.displayName;const zt=p.forwardRef(({className:a,...s},l)=>e.jsx(Vt,{ref:l,className:V("text-sm text-muted-foreground",a),...s}));zt.displayName=Vt.displayName;const ps=p.forwardRef(({className:a,...s},l)=>e.jsx(Ot,{ref:l,className:V(Ge(),a),...s}));ps.displayName=Ot.displayName;const qt=p.forwardRef(({className:a,...s},l)=>e.jsx(Mt,{ref:l,className:V(Ge({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));qt.displayName=Mt.displayName;const hs=({filteredHostels:a,hostelSearchQuery:s})=>{const{toast:l}=_e(),[c,t]=p.useState(a),[n,m]=p.useState(null);if(!s)return null;const h=async()=>{if(n){t(f=>f.filter(g=>g.hostelId!==n));try{await Y.delete(`/api/hostel/${n}`),l({title:"Deleted",description:`Hostel ${n} deleted successfully`})}catch{l({title:"Error",description:"Failed to delete hostel. Please try again.",variant:"destructive"}),t(a)}m(null)}};return e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx(We,{}),e.jsxs("table",{className:"w-full border-collapse shadow-md rounded-lg",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:["Hostel ID","Name","Location","Price","Type","Food","Rating","Actions"].map(f=>e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-600",children:f},f))})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.length>0?c.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all",children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:f.hostelId}),e.jsx("td",{className:"px-4 py-3 text-sm",children:f.name}),e.jsx("td",{className:"px-4 py-3 text-sm",children:f.location}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:["₹",f.price]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:f.type}),e.jsx("td",{className:"px-4 py-3 text-sm",children:f.food}),e.jsx("td",{className:"px-4 py-3 text-sm",children:f.rating}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs(ds,{children:[e.jsx(ms,{asChild:!0,children:e.jsxs(E,{onClick:()=>m(f.hostelId),variant:"destructive",className:"flex items-center gap-1 px-3 py-2 text-sm",children:[e.jsx(Aa,{className:"w-4 h-4"}),"Delete"]})}),e.jsxs($t,{children:[e.jsxs(Ut,{children:[e.jsx(Bt,{children:"Confirm Deletion"}),e.jsxs(zt,{children:["Are you sure you want to delete ",e.jsx("strong",{children:f.name}),"? This action cannot be undone."]})]}),e.jsxs(Ht,{children:[e.jsx(qt,{onClick:()=>m(null),children:"Cancel"}),e.jsx(E,{onClick:h,variant:"destructive",children:"Yes, Delete"})]})]})]})})]},f._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No hostels found"})})})]})]})},fs=({hostels:a})=>{const[s,l]=p.useState(""),c=p.useMemo(()=>{if(!s.trim())return a;const t=s.toLowerCase();return a.filter(n=>[n.name,n.location,n.food,n.type,n.price,n.rating,n.hostelId].filter(Boolean).map(String).join(" ").toLowerCase().includes(t))},[a,s]);return e.jsxs($,{className:"w-full",children:[e.jsx(ae,{children:e.jsx(K,{children:"Find Hostel"})}),e.jsxs(U,{children:[e.jsx(Ma,{hostelSearchQuery:s,setHostelSearchQuery:l}),e.jsx("div",{className:"mt-4",children:s&&e.jsx($,{children:e.jsx(U,{className:"p-4",children:e.jsx(hs,{hostelSearchQuery:s,filteredHostels:c})})})})]})]})},xs=({users:a,handleAdminRole:s})=>{const[l,c]=p.useState(""),t=p.useMemo(()=>{if(!l.trim())return a;const n=l.toLowerCase();return a.filter(m=>{var h,f,g;return((h=m.name)==null?void 0:h.toLowerCase().includes(n))||((f=m.email)==null?void 0:f.toLowerCase().includes(n))||((g=m.phone)==null?void 0:g.toLowerCase().includes(n))})},[a,l]);return e.jsxs($,{className:"w-full",children:[e.jsx(ae,{children:e.jsx(K,{children:"Find User"})}),e.jsx(U,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-row justify-center space-x-2",children:[e.jsx(D,{placeholder:"Enter user name, email, contact number",value:l,onChange:n=>c(n.target.value),className:"flex-1"}),e.jsx(E,{type:"button",variant:"outline",size:"icon",children:e.jsx(Ye,{className:"h-4 w-4"})})]}),l&&e.jsx("div",{className:"mt-4",children:e.jsx($,{children:e.jsx(U,{className:"p-4",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Email"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Role"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:n.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:n.email}),e.jsx("td",{className:"px-4 py-2 text-sm",children:n.phone}),e.jsx("td",{className:"px-4 py-2 text-sm",children:n.role}),e.jsx("td",{className:"px-4 py-2 text-sm",children:n.role==="admin"?e.jsxs(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>s(n._id,!1),children:[e.jsx(et,{className:"w-4 h-4"}),"Remove Admin"]}):e.jsxs(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>s(n._id,!0),children:[e.jsx(Qe,{className:"w-4 h-4"}),"Make Admin"]})})]},n._id))})]}),t.length===0&&e.jsx("p",{className:"text-center py-4 text-gray-500",children:"No users found"})]})})})})]})})]})};var Ve="Checkbox",[gs,Ws]=De(Ve),[ys,vs]=gs(Ve),Gt=p.forwardRef((a,s)=>{const{__scopeCheckbox:l,name:c,checked:t,defaultChecked:n,required:m,disabled:h,value:f="on",onCheckedChange:g,form:j,...u}=a,[y,k]=p.useState(null),b=re(s,R=>k(R)),S=p.useRef(!1),A=y?j||!!y.closest("form"):!0,[N=!1,T]=Pe({prop:t,defaultProp:n,onChange:g}),M=p.useRef(N);return p.useEffect(()=>{const R=y==null?void 0:y.form;if(R){const P=()=>T(M.current);return R.addEventListener("reset",P),()=>R.removeEventListener("reset",P)}},[y,T]),e.jsxs(ys,{scope:l,state:N,disabled:h,children:[e.jsx(J.button,{type:"button",role:"checkbox","aria-checked":te(N)?"mixed":N,"aria-required":m,"data-state":Kt(N),"data-disabled":h?"":void 0,disabled:h,value:f,...u,ref:b,onKeyDown:Z(a.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Z(a.onClick,R=>{T(P=>te(P)?!0:!P),A&&(S.current=R.isPropagationStopped(),S.current||R.stopPropagation())})}),A&&e.jsx(bs,{control:y,bubbles:!S.current,name:c,value:f,checked:N,required:m,disabled:h,form:j,style:{transform:"translateX(-100%)"},defaultChecked:te(n)?!1:n})]})});Gt.displayName=Ve;var Wt="CheckboxIndicator",Yt=p.forwardRef((a,s)=>{const{__scopeCheckbox:l,forceMount:c,...t}=a,n=vs(Wt,l);return e.jsx(Se,{present:c||te(n.state)||n.state===!0,children:e.jsx(J.span,{"data-state":Kt(n.state),"data-disabled":n.disabled?"":void 0,...t,ref:s,style:{pointerEvents:"none",...a.style}})})});Yt.displayName=Wt;var bs=a=>{const{control:s,checked:l,bubbles:c=!0,defaultChecked:t,...n}=a,m=p.useRef(null),h=Ze(l),f=Ke(s);p.useEffect(()=>{const j=m.current,u=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(u,"checked").set;if(h!==l&&k){const b=new Event("click",{bubbles:c});j.indeterminate=te(l),k.call(j,te(l)?!1:l),j.dispatchEvent(b)}},[h,l,c]);const g=p.useRef(te(l)?!1:l);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t??g.current,...n,tabIndex:-1,ref:m,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function te(a){return a==="indeterminate"}function Kt(a){return te(a)?"indeterminate":a?"checked":"unchecked"}var Zt=Gt,js=Yt;const Le=p.forwardRef(({className:a,...s},l)=>e.jsx(Zt,{ref:l,className:V("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:e.jsx(js,{className:V("flex items-center justify-center text-current"),children:e.jsx(Je,{className:"h-4 w-4"})})}));Le.displayName=Zt.displayName;var $e="Switch",[Ns,Ys]=De($e),[ws,ks]=Ns($e),Jt=p.forwardRef((a,s)=>{const{__scopeSwitch:l,name:c,checked:t,defaultChecked:n,required:m,disabled:h,value:f="on",onCheckedChange:g,form:j,...u}=a,[y,k]=p.useState(null),b=re(s,M=>k(M)),S=p.useRef(!1),A=y?j||!!y.closest("form"):!0,[N=!1,T]=Pe({prop:t,defaultProp:n,onChange:g});return e.jsxs(ws,{scope:l,checked:N,disabled:h,children:[e.jsx(J.button,{type:"button",role:"switch","aria-checked":N,"aria-required":m,"data-state":ea(N),"data-disabled":h?"":void 0,disabled:h,value:f,...u,ref:b,onClick:Z(a.onClick,M=>{T(R=>!R),A&&(S.current=M.isPropagationStopped(),S.current||M.stopPropagation())})}),A&&e.jsx(Cs,{control:y,bubbles:!S.current,name:c,value:f,checked:N,required:m,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});Jt.displayName=$e;var Xt="SwitchThumb",Qt=p.forwardRef((a,s)=>{const{__scopeSwitch:l,...c}=a,t=ks(Xt,l);return e.jsx(J.span,{"data-state":ea(t.checked),"data-disabled":t.disabled?"":void 0,...c,ref:s})});Qt.displayName=Xt;var Cs=a=>{const{control:s,checked:l,bubbles:c=!0,...t}=a,n=p.useRef(null),m=Ze(l),h=Ke(s);return p.useEffect(()=>{const f=n.current,g=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(g,"checked").set;if(m!==l&&u){const y=new Event("click",{bubbles:c});u.call(f,l),f.dispatchEvent(y)}},[m,l,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...t,tabIndex:-1,ref:n,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ea(a){return a?"checked":"unchecked"}var ta=Jt,Ds=Qt;const xe=p.forwardRef(({className:a,...s},l)=>e.jsx(ta,{className:V("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:l,children:e.jsx(Ds,{className:V("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));xe.displayName=ta.displayName;function Ss({collegesList:a,hostelId:s}){var R,P,ne;const{toast:l}=_e(),[c,t]=p.useState(!1),[n,m]=p.useState({name:"",location:"",hostelType:"",rules:"",food:"",mapLink:"",colleges:[],roomTypes:[],contactDetails:{phone:"",email:"",website:""},facilities:{wifi:!1,airConditioning:!1,heater:!1,powerBackup:!1,laundryService:!1,housekeeping:!1,studyRoom:!1,gym:!1,commonRoom:!1,parking:!1,bikeRental:!1,canteen:!1,vendingMachine:!1,tv:!1,security:{cctv:!1,biometricEntry:!1,securityGuards:!1,fireSafety:!1}}}),[h,f]=p.useState({type:"",capacity:"",pricePerMonth:"",availability:""}),[g,j]=p.useState([]);p.useEffect(()=>{s&&(async()=>{try{const i=(await Y.get(`/api/hostel/${s}`)).data,o={...i,rules:Array.isArray(i.rules)?i.rules.join(", "):"",food:Array.isArray(i.food)?i.food.join(", "):""};m(o),j(o.colleges||[])}catch(r){console.error("Error fetching hostel data:",r),l({variant:"destructive",title:"Error",description:"Failed to fetch hostel data."})}})()},[s,l]);const u=x=>{const{name:r,value:i}=x.target;m(o=>({...o,[r]:i}))},y=x=>{const{name:r,value:i}=x.target;m(o=>({...o,contactDetails:{...o.contactDetails,[r]:i}}))},k=x=>{m(r=>({...r,hostelType:x}))},b=x=>{const{name:r,value:i}=x.target;f(o=>({...o,[r]:i}))},S=()=>{if(!h.type||!h.capacity||!h.pricePerMonth||!h.availability){l({variant:"destructive",title:"Validation Error",description:"Please fill in all room type fields"});return}const x={...h,capacity:parseInt(h.capacity,10),pricePerMonth:parseInt(h.pricePerMonth,10),availability:parseInt(h.availability,10)};m(r=>({...r,roomTypes:[...r.roomTypes,x]})),f({type:"",capacity:"",pricePerMonth:"",availability:""})},A=x=>{m(r=>({...r,roomTypes:r.roomTypes.filter((i,o)=>o!==x)}))},N=(x,r)=>{if(x.includes(".")){const[i,o]=x.split(".");m(d=>({...d,facilities:{...d.facilities,[i]:{...d.facilities[i],[o]:r}}}))}else m(i=>({...i,facilities:{...i.facilities,[x]:r}}))},T=x=>{let r=g.includes(x)?g.filter(i=>i!==x):[...g,x];j(r),m(i=>({...i,colleges:r}))},M=async x=>{var d,v;if(x.preventDefault(),!n.name.trim()||!n.location.trim()||!n.hostelType||!n.mapLink.trim()||!n.contactDetails.phone.trim()||n.roomTypes.length===0){l({variant:"destructive",title:"Validation Error",description:"Please fill in all required fields (name, location, hostel type, map link, phone, and at least one room type)."});return}if(!/^\d{10,15}$/.test(n.contactDetails.phone)){l({variant:"destructive",title:"Invalid Phone Number",description:"Please enter a valid phone number (10-15 digits)."});return}if(!/^(https?:\/\/)?(www\.)?[\w-]+(\.[\w-]+)+[/#?]?.*$/.test(n.mapLink)){l({variant:"destructive",title:"Invalid Map Link",description:"Please enter a valid map URL."});return}t(!0);const r=n.rules?n.rules.split(",").map(w=>w.trim()).filter(Boolean):[],i=n.food?n.food.split(",").map(w=>w.trim()).filter(Boolean):[],o={name:n.name,location:n.location,hostelType:n.hostelType,mapLink:n.mapLink,contactDetails:n.contactDetails,rules:r,food:i,colleges:n.colleges,roomTypes:n.roomTypes,facilities:n.facilities};try{(await Y.patch(`/api/hostel/${s}`,o)).status===200&&l({title:"Success",description:"Hostel updated successfully"})}catch(w){l({variant:"destructive",title:"Error",description:((v=(d=w.response)==null?void 0:d.data)==null?void 0:v.message)||"Failed to update hostel"})}finally{t(!1)}};return e.jsxs(ba,{children:[e.jsx(ja,{children:e.jsx(Na,{className:"w-4 h-4 cursor-pointer"})}),e.jsx(wa,{className:"w-screen max-w-2xl p-0",children:e.jsxs($,{className:"border-0 shadow-none",children:[e.jsx(ae,{className:"border-b pb-3",children:e.jsx(K,{className:"text-xl font-medium",children:"Update Hostel"})}),e.jsx(U,{className:"pt-4 max-h-[80vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-base font-medium",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hostel Name*"}),e.jsx(D,{id:"name",name:"name",placeholder:"Enter hostel name",value:n.name,onChange:u,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location*"}),e.jsx(D,{id:"location",name:"location",placeholder:"Enter hostel location",value:n.location,onChange:u,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hostel Type*"}),e.jsxs(ve,{value:n.hostelType,onValueChange:k,required:!0,children:[e.jsx(be,{children:e.jsx(Xe,{placeholder:"Select hostel type"})}),e.jsxs(je,{children:[e.jsx(de,{value:"boys",children:"Boys Hostel"}),e.jsx(de,{value:"girls",children:"Girls Hostel"}),e.jsx(de,{value:"co-ed",children:"Co-ed Hostel"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Map Link*"}),e.jsx(D,{id:"mapLink",name:"mapLink",type:"url",placeholder:"Google Map URL",value:n.mapLink,onChange:u,required:!0})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-base font-medium",children:"Contact Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone*"}),e.jsx(D,{id:"phone",name:"phone",type:"tel",placeholder:"Contact number",value:((R=n.contactDetails)==null?void 0:R.phone)||"",onChange:y,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx(D,{id:"email",name:"email",type:"email",placeholder:"Email address",value:((P=n.contactDetails)==null?void 0:P.email)||"",onChange:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Website"}),e.jsx(D,{id:"website",name:"website",type:"url",placeholder:"Website URL",value:((ne=n.contactDetails)==null?void 0:ne.website)||"",onChange:y})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-base font-medium",children:["Room Types* ",e.jsx("span",{className:"text-sm",children:"(at least 1)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),e.jsx(D,{name:"type",placeholder:"e.g., Single, Shared-2",value:h.type,onChange:b})]}),e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity"}),e.jsx(D,{name:"capacity",type:"number",min:"1",placeholder:"Number of beds",value:h.capacity,onChange:b})]}),e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price/Month"}),e.jsx(D,{name:"pricePerMonth",type:"number",min:"1",placeholder:"Price",value:h.pricePerMonth,onChange:b})]}),e.jsxs("div",{className:"w-full sm:w-auto",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Available Rooms"}),e.jsx(D,{name:"availability",type:"number",min:"0",placeholder:"Number of rooms",value:h.availability,onChange:b})]}),e.jsx(E,{type:"button",onClick:S,className:"bg-green-600 hover:bg-green-700 text-white",children:"Add Room"})]}),n.roomTypes&&n.roomTypes.length>0&&e.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Room Types:"}),e.jsx("div",{className:"space-y-2",children:n.roomTypes.map((x,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded-md",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:x.type}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:[x.capacity," person(s) | ₹",x.pricePerMonth,"/month | ",x.availability," available"]})]}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(r),className:"text-red-500 hover:text-red-700",children:e.jsx(tt,{size:16})})]},r))})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-base font-medium",children:"Facilities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["wifi","airConditioning","heater","powerBackup","laundryService","housekeeping","studyRoom","gym","commonRoom","parking","bikeRental","canteen","vendingMachine","tv"].map(x=>{var r;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{id:x,checked:((r=n.facilities)==null?void 0:r[x])||!1,onCheckedChange:i=>N(x,i)}),e.jsx(we,{htmlFor:x,className:"capitalize",children:x.replace(/([A-Z])/g," $1").trim()})]},x)})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Security Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["cctv","biometricEntry","securityGuards","fireSafety"].map(x=>{var r,i;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{id:`security.${x}`,checked:((i=(r=n.facilities)==null?void 0:r.security)==null?void 0:i[x])||!1,onCheckedChange:o=>N(`security.${x}`,o)}),e.jsx(we,{htmlFor:`security.${x}`,className:"capitalize",children:x.replace(/([A-Z])/g," $1").trim()})]},x)})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-base font-medium",children:"Nearby Colleges"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Nearby Colleges"}),e.jsxs(ve,{children:[e.jsx(be,{children:g.length>0?`${g[0]}`:"Select Colleges"}),e.jsx(je,{children:a&&a.map(x=>e.jsxs("div",{className:"flex items-center gap-2 p-2 cursor-pointer",children:[e.jsx(Le,{checked:g.includes(x.value),onCheckedChange:()=>T(x.value)}),e.jsx("label",{className:"text-sm",children:x.label})]},x.value))})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-base font-medium",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hostel Rules (comma-separated)"}),e.jsx(Ne,{id:"rules",name:"rules",placeholder:"No smoking, No drinking, etc.",value:n.rules||"",onChange:u,rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Food Options (comma-separated)"}),e.jsx(Ne,{id:"food",name:"food",placeholder:"Breakfast, Lunch, Dinner, North Indian, South Indian, etc.",value:n.food||"",onChange:u,rows:3})]})]})]}),e.jsx("div",{className:"pt-3 flex justify-end space-x-3",children:e.jsx(E,{type:"submit",disabled:c,className:"bg-purple-600 hover:bg-purple-700 text-white",children:c?"Updating...":"Update Hostel"})})]})})]})})]})}function Rs({collegesList:a}){const[s,l]=p.useState(!1),{toast:c}=_e(),[t,n]=p.useState({name:"",location:"",hostelType:"",rules:"",food:"",mapLink:"",colleges:[],roomTypes:[],contactDetails:{phone:"",email:"",website:""},facilities:{wifi:!1,airConditioning:!1,heater:!1,powerBackup:!1,laundryService:!1,housekeeping:!1,studyRoom:!1,gym:!1,commonRoom:!1,parking:!1,bikeRental:!1,canteen:!1,vendingMachine:!1,tv:!1,security:{cctv:!1,biometricEntry:!1,securityGuards:!1,fireSafety:!1}}}),[m,h]=p.useState({type:"",capacity:"",pricePerMonth:"",availability:""}),[f,g]=p.useState([]),[j,u]=p.useState([]),[y,k]=p.useState([]),b=r=>{const{name:i,value:o}=r.target;n(d=>({...d,[i]:o}))},S=r=>{const{name:i,value:o}=r.target;n(d=>({...d,contactDetails:{...d.contactDetails,[i]:o}}))},A=r=>{n(i=>({...i,hostelType:r}))},N=r=>{if(r.target.files){const i=Array.from(r.target.files);u(i);const o=i.map(d=>URL.createObjectURL(d));k(o)}},T=r=>{const{name:i,value:o}=r.target;h(d=>({...d,[i]:o}))},M=()=>{if(!m.type||!m.capacity||!m.pricePerMonth||!m.availability){c({variant:"destructive",title:"Validation Error",description:"Please fill in all room type fields"});return}const r={...m,capacity:parseInt(m.capacity,10),pricePerMonth:parseInt(m.pricePerMonth,10),availability:parseInt(m.availability,10)};n(i=>({...i,roomTypes:[...i.roomTypes,r]})),h({type:"",capacity:"",pricePerMonth:"",availability:""})},R=r=>{n(i=>({...i,roomTypes:i.roomTypes.filter((o,d)=>d!==r)}))},P=(r,i)=>{if(r.includes(".")){const[o,d]=r.split(".");n(v=>({...v,facilities:{...v.facilities,[o]:{...v.facilities[o],[d]:i}}}))}else n(o=>({...o,facilities:{...o.facilities,[r]:i}}))};p.useEffect(()=>()=>{y.forEach(r=>URL.revokeObjectURL(r))},[y]);const ne=r=>{let i=f.includes(r)?f.filter(o=>o!==r):[...f,r];g(i),n(o=>({...o,colleges:i}))},x=async r=>{var v,w;if(r.preventDefault(),!t.name.trim()||!t.location.trim()||!t.hostelType||!t.mapLink.trim()||!t.contactDetails.phone.trim()||t.roomTypes.length===0){c({variant:"destructive",title:"Validation Error",description:"Please fill in all required fields (name, location, hostel type, map link, phone, and at least one room type)."});return}if(!/^\d{10,15}$/.test(t.contactDetails.phone)){c({variant:"destructive",title:"Invalid Phone Number",description:"Please enter a valid phone number (10-15 digits)."});return}if(!/^(https?:\/\/)?(www\.)?[\w-]+(\.[\w-]+)+[/#?]?.*$/.test(t.mapLink)){c({variant:"destructive",title:"Invalid Map Link",description:"Please enter a valid map URL."});return}l(!0);const i=t.rules?t.rules.split(",").map(C=>C.trim()).filter(Boolean):[],o=t.food?t.food.split(",").map(C=>C.trim()).filter(Boolean):[],d=new FormData;d.append("name",t.name),d.append("location",t.location),d.append("hostelType",t.hostelType),d.append("mapLink",t.mapLink),d.append("contactDetails[phone]",t.contactDetails.phone),t.contactDetails.email&&d.append("contactDetails[email]",t.contactDetails.email),t.contactDetails.website&&d.append("contactDetails[website]",t.contactDetails.website),i.forEach(C=>{d.append("rules",C)}),o.forEach(C=>{d.append("food",C)}),t.colleges.forEach(C=>{d.append("colleges",C)}),d.append("roomTypes",JSON.stringify(t.roomTypes)),d.append("facilities",JSON.stringify(t.facilities)),j.forEach(C=>{d.append("images",C)});try{const C=await Y.post("/api/hostel/",d,{headers:{"Content-Type":"multipart/form-data"}});c({title:"Success!",description:"Hostel added successfully."}),n({name:"",location:"",hostelType:"",rules:"",food:"",mapLink:"",colleges:[],roomTypes:[],contactDetails:{phone:"",email:"",website:""},facilities:{wifi:!1,airConditioning:!1,heater:!1,powerBackup:!1,laundryService:!1,housekeeping:!1,studyRoom:!1,gym:!1,commonRoom:!1,parking:!1,bikeRental:!1,canteen:!1,vendingMachine:!1,tv:!1,security:{cctv:!1,biometricEntry:!1,securityGuards:!1,fireSafety:!1}}}),u([]),k([]),g([])}catch(C){console.error("Error adding hostel:",C),c({variant:"destructive",title:"Error while adding",description:((w=(v=C.response)==null?void 0:v.data)==null?void 0:w.message)||"Try again later."})}finally{l(!1)}};return e.jsx("section",{className:"flex flex-row",children:e.jsxs($,{className:"w-full max-w-4xl mx-auto p-6 shadow-lg rounded-xl bg-white dark:bg-gray-900",children:[e.jsx(ae,{className:"border-b pb-4",children:e.jsx(K,{className:"text-3xl font-semibold text-gray-900 dark:text-white",children:"Add Hostel"})}),e.jsx(U,{className:"space-y-6 pt-6",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hostel Name*"}),e.jsx(D,{id:"name",name:"name",placeholder:"Enter hostel name",value:t.name,onChange:b,required:!0,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Location*"}),e.jsx(D,{id:"location",name:"location",placeholder:"Enter hostel location",value:t.location,onChange:b,required:!0,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hostelType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hostel Type*"}),e.jsxs(ve,{value:t.hostelType,onValueChange:A,required:!0,children:[e.jsx(be,{className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white",children:e.jsx(Xe,{placeholder:"Select hostel type"})}),e.jsxs(je,{children:[e.jsx(de,{value:"boys",children:"Boys Hostel"}),e.jsx(de,{value:"girls",children:"Girls Hostel"}),e.jsx(de,{value:"co-ed",children:"Co-ed Hostel"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"mapLink",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Map Link*"}),e.jsx(D,{id:"mapLink",name:"mapLink",type:"url",placeholder:"Google Map URL",value:t.mapLink,onChange:b,required:!0,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Contact Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone*"}),e.jsx(D,{id:"phone",name:"phone",type:"tel",placeholder:"Contact number",value:t.contactDetails.phone,onChange:S,required:!0,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(D,{id:"email",name:"email",type:"email",placeholder:"Email address",value:t.contactDetails.email,onChange:S,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Website"}),e.jsx(D,{id:"website",name:"website",type:"url",placeholder:"Website URL",value:t.contactDetails.website,onChange:S,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:["Room Types* ",e.jsx("span",{className:"text-sm",children:"(atleast 1)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Type"}),e.jsx(D,{name:"type",placeholder:"e.g., Single, Shared-2",value:m.type,onChange:T,className:"w-full mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Capacity"}),e.jsx(D,{name:"capacity",type:"number",min:"1",placeholder:"Number of beds",value:m.capacity,onChange:T,className:"w-full mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Price/Month"}),e.jsx(D,{name:"pricePerMonth",type:"number",min:"1",placeholder:"Price",value:m.pricePerMonth,onChange:T,className:"w-full mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Available Rooms"}),e.jsx(D,{name:"availability",type:"number",min:"0",placeholder:"Number of rooms",value:m.availability,onChange:T,className:"w-full mt-1"})]}),e.jsx(E,{type:"button",onClick:M,className:"bg-green-600 hover:bg-green-700 text-white rounded-full active:scale-90",children:"Add Room"})]}),t.roomTypes.length>0&&e.jsxs("div",{className:"mt-4 border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Added Room Types:"}),e.jsx("div",{className:"space-y-2",children:t.roomTypes.map((r,i)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-700 rounded-md",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:r.type}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:[r.capacity," person(s) | ₹",r.pricePerMonth,"/month | ",r.availability," available"]})]}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(i),className:"text-red-500 hover:text-red-700",children:e.jsx(tt,{size:16})})]},i))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Facilities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:["wifi","airConditioning","heater","powerBackup","laundryService","housekeeping","studyRoom","gym","commonRoom","parking","bikeRental","canteen","vendingMachine","tv"].map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{id:r,checked:t.facilities[r],onCheckedChange:i=>P(r,i)}),e.jsx(we,{htmlFor:r,className:"capitalize",children:r.replace(/([A-Z])/g," $1").trim()})]},r))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Security Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:["cctv","biometricEntry","securityGuards","fireSafety"].map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{id:`security.${r}`,checked:t.facilities.security[r],onCheckedChange:i=>P(`security.${r}`,i)}),e.jsx(we,{htmlFor:`security.${r}`,className:"capitalize",children:r.replace(/([A-Z])/g," $1").trim()})]},r))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Nearby Colleges"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"colleges",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Select Nearby Colleges"}),e.jsxs(ve,{children:[e.jsx(be,{className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white",children:f.length>0?`${f[0]}`:"Select Colleges"}),e.jsx(je,{children:a&&a.map(r=>e.jsxs("div",{className:"flex items-center gap-2 p-2 cursor-pointer",children:[e.jsx(Le,{checked:f.includes(r.value),onCheckedChange:()=>ne(r.value)}),e.jsx("label",{className:"text-sm",children:r.label})]},r.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rules",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Hostel Rules (comma-separated)"}),e.jsx(Ne,{id:"rules",name:"rules",placeholder:"No smoking, No drinking, etc.",value:t.rules,onChange:b,rows:4,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"food",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Food Options (comma-separated)"}),e.jsx(Ne,{id:"food",name:"food",placeholder:"Breakfast, Lunch, Dinner, North Indian, South Indian, etc.",value:t.food,onChange:b,rows:4,className:"w-full mt-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-800 dark:text-gray-200",children:"Hostel Images"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fileUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Images*"}),e.jsx("input",{id:"fileUpload",type:"file",multiple:!0,accept:"image/*",onChange:N,className:"block w-full mt-1 text-sm text-gray-700 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),y.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Image Previews:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((r,i)=>e.jsx("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden",children:e.jsx("img",{src:r,alt:`Preview ${i+1}`,className:"w-full h-full object-cover"})},i))})]})]}),e.jsx("div",{className:"mt-8 flex justify-center w-full",children:e.jsx(E,{type:"submit",disabled:s,className:"w-40 bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-xl active:scale-75 transition-all duration-700 ease-in-out",children:s?"Submitting...":"Add Hostel"})})]})})]})})}const qe=[{label:"Thakur College of Engineering and Technology",value:"tcet"},{label:"Thakur Polytechnic",value:"tpoly"},{label:"Mukesh Patel School of Technology",value:"mpstme"},{label:"DJ Sanghvi College of Engineering",value:"djsce"},{label:"KJ Somaiya College of Engineering",value:"kjsce"},{label:"VJTI Mumbai",value:"vjti"},{label:"Sardar Patel Institute of Technology",value:"spit"},{label:"IIT Bombay",value:"iitb"},{label:"NMIMS University",value:"nmims"},{label:"Xavier Institute of Engineering",value:"xavier"},{label:"Don Bosco Institute of Technology",value:"dbit"},{label:"SIES Graduate School of Technology",value:"siesgst"},{label:"RAIT (Ramrao Adik Institute of Technology)",value:"rait"},{label:"St. Francis Institute of Technology",value:"sfit"}],Ks=()=>{document.title="Dashboard ChahtraStay";const[a,s]=p.useState([]),[l,c]=p.useState([]),[t,n]=p.useState([]),[m,h]=p.useState(!0),f=na();p.useEffect(()=>{(async()=>{try{const[y,k,b]=await Promise.all([Y.get("/api/hostel"),Y.get("/api/user/all"),Y.get("/api/booking")]);s(y.data),c(k.data),n(b.data)}catch(y){console.log(y),console.error("Error fetching data:",y)}finally{h(!1)}})()},[]);const g=async(u,y)=>{try{const k=y?`/api/user/make-admin/${u}`:`/api/user/remove-admin/${u}`,b=await Y.patch(k);c(l.map(S=>S._id===u?b.data.user:S))}catch(k){console.error("Error updating admin role:",k)}},j=async(u,y)=>{try{const k=await Y.put(`/api/booking/${u}/${y}`);n(t.map(b=>b._id===u?k.data.booking:b))}catch(k){console.error("Error updating booking status:",k)}};return m?e.jsx("div",{className:"p-6",children:e.jsx(ia,{})}):e.jsxs("div",{className:" flex flex-col space-y-6 mb-20",children:[e.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx(fa,{})}),e.jsx("h1",{className:"text-3xl font-bold text-center",children:"Admin Dashboard"}),e.jsx(We,{}),e.jsxs("section",{className:"grid grid-cols-1 gap-4 p-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[e.jsxs($,{className:"p-5 shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 rounded-xl hover:shadow-xl transition-shadow",children:[e.jsxs(K,{className:"flex items-center gap-3 text-lg font-semibold text-gray-800 dark:text-white",children:[e.jsx(Ue,{className:"w-6 h-6 text-blue-500"}),"Total Users"]}),e.jsx(U,{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.jsx(ze,{start:0,end:l?l.length:0,duration:2,separator:","})})]}),e.jsxs($,{className:"p-5 shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 rounded-xl hover:shadow-xl transition-shadow",children:[e.jsxs(K,{className:"flex items-center gap-3 text-lg font-semibold text-gray-800 dark:text-white",children:[e.jsx(He,{className:"w-6 h-6 text-green-500"}),"Total Hostels"]}),e.jsx(U,{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.jsx(ze,{start:0,end:a?a.length:0,duration:2,separator:","})})]})]}),e.jsxs(la,{defaultValue:"users",className:"w-full",children:[e.jsxs(oa,{children:[e.jsxs(Ee,{value:"hostels",className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),"Hostels"]}),e.jsxs(Ee,{value:"users",className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Users"]}),e.jsxs(Ee,{value:"bookings",className:"flex items-center gap-2",children:[e.jsx(Da,{className:"w-4 h-4"}),"Bookings"]})]}),e.jsx(Ae,{value:"hostels",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(ae,{children:e.jsx(K,{children:"All Hostels"})}),e.jsx(U,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Hostel ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Location"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Price"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Food"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Contact No."}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Rating"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(u=>{var y;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm hover:underline hover:cursor-pointer",onClick:()=>f(`/hostel/${u.hostelId}`),children:u.hostelId}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.location}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:[" ",`${u==null?void 0:u.roomTypes[0].type} | ₹
                            ${(y=u==null?void 0:u.roomTypes[0])==null?void 0:y.pricePerMonth} per month`]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.hostelType}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.food?u.food.join(", "):"N/A"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.contactDetails.phone}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:[u.rating,"/5"]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx(Ss,{collegesList:qe,hostelId:u==null?void 0:u.hostelId})})]},u._id)})})]})})})]})}),e.jsx(Ae,{value:"users",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(ae,{children:e.jsx(K,{children:"All Users"})}),e.jsx(U,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Email"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Role"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(u=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:u.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.email}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.phone}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.role}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.role==="admin"?e.jsxs(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>g(u._id,!1),children:[e.jsx(et,{className:"w-4 h-4"}),"Remove Admin"]}):e.jsxs(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>g(u._id,!0),children:[e.jsx(Qe,{className:"w-4 h-4"}),"Make Admin"]})})]},u._id))})]})})})]})}),e.jsx(Ae,{value:"bookings",className:"space-y-4",children:e.jsxs($,{children:[e.jsx(ae,{children:e.jsx(K,{children:"All Bookings"})}),e.jsx(U,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"receiptId"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Hostel ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Check In"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Check Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Room"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Amount"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(u=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:u.receiptId}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.hostelId}),e.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(u.checkInDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(u.checkOutDate).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2 text-sm",children:u.roomSelection}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:["₹",u.amount]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-sm ${u.status==="confirmed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status})}),e.jsxs("td",{className:" flex flex-row px-4 py-2 text-sm space-x-2",children:[e.jsx(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:u.status==="confirmed",onClick:()=>j(u._id,"confirm"),children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsx(E,{variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:u.status==="cancelled",onClick:()=>j(u._id,"cancel"),children:e.jsx(ha,{className:"w-4 h-4"})})]})]},u._id))})]})})})]})})]}),e.jsxs("section",{className:"flex flex-row space-x-6",children:[e.jsx(xs,{users:l,handleAdminRole:g}),e.jsx(fs,{hostels:a})]}),e.jsx(Rs,{collegesList:qe})]})};export{Ks as default};
