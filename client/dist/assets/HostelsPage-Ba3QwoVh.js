import{j as e,r,u as q,a as O}from"./index-CbzP6hy5.js";import{C as D,b as E}from"./card-BI2sKOiD.js";import{I as X}from"./input-XUYr8Ntf.js";import{a as F,c as f,b as Y,B as I}from"./createLucideIcon-AdlLZUEa.js";import{S as T,a as M,b as L,c as R,d as s}from"./select-CyxRNjYH.js";import{F as Q}from"./Footer-BEXvCSXr.js";import{H as Z}from"./Header-CuRLoS_H.js";import{M as ee}from"./map-pin-zOlaMeHq.js";import{S as ae,B as se,T as le,U as te,W as re}from"./wifi-dNnB2KF3.js";import{S as ne}from"./shield-CHdPAy6n.js";import"./toaster-CnzL-6es.js";import"./index-DYIKVHMg.js";import"./chevron-down-BxKGjAz6.js";import"./house-c3-BPOGx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ce=F("Car",ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],de=F("Dumbbell",oe),V=({className:n,...i})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:f("mx-auto flex w-full justify-center",n),...i});V.displayName="Pagination";const H=r.forwardRef(({className:n,...i},c)=>e.jsx("ul",{ref:c,className:f("flex flex-row items-center gap-1",n),...i}));H.displayName="PaginationContent";const p=r.forwardRef(({className:n,...i},c)=>e.jsx("li",{ref:c,className:f("",n),...i}));p.displayName="PaginationItem";const v=({className:n,isActive:i,size:c="icon",...u})=>e.jsx("a",{"aria-current":i?"page":void 0,className:f(Y({variant:i?"outline":"ghost",size:c}),n),...u});v.displayName="PaginationLink";const he={wifi:e.jsx(re,{className:"mr-1 h-4 w-4"}),parking:e.jsx(ce,{className:"mr-1 h-4 w-4"}),gym:e.jsx(de,{className:"mr-1 h-4 w-4"}),security:e.jsx(ne,{className:"mr-1 h-4 w-4"}),canteen:e.jsx(te,{className:"mr-1 h-4 w-4"}),tv:e.jsx(le,{className:"mr-1 h-4 w-4"}),studyRoom:e.jsx(se,{className:"mr-1 h-4 w-4"})};function Pe(){const[n,i]=r.useState([]),[c,u]=r.useState([]),[d,y]=r.useState(""),[m,b]=r.useState("all"),[x,N]=r.useState("all"),[g,w]=r.useState("none"),[o,C]=r.useState(1),[K,h]=r.useState(!1),_=q();r.useEffect(()=>{(async()=>{h(!0);try{const t=(await O.get("/api/hostel/")).data.filter(P=>U(P.roomTypes));i(t),u(t),h(!1)}catch(l){console.error("Error fetching data:",l),h(!1)}})()},[]);const U=a=>!a||a.length===0?!1:a.some(l=>l.availability>0);r.useEffect(()=>{if(n.length){h(!0);const a=setTimeout(()=>{let l=n.filter(t=>{const P=Math.min(...t.roomTypes.map(k=>k.pricePerMonth));return(d===""||t.name.toLowerCase().includes(d.toLowerCase())||t.location.toLowerCase().includes(d.toLowerCase()))&&(m==="all"||t.location.includes(m))&&(g==="none"||P<=parseInt(g))&&(x==="all"||t.colleges.some(k=>k.toLowerCase().includes(x.toLowerCase())))});u(l),h(!1)},300);return()=>clearTimeout(a)}},[d,m,g,x,n]);const j=6,S=Math.ceil(c.length/j),A=c.slice((o-1)*j,o*j),G=a=>[...Array(5)].map((l,t)=>e.jsx(ae,{className:`h-4 w-4 ${t<a?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},t)),J=a=>{const l=[];return a.wifi&&l.push("wifi"),a.parking&&l.push("parking"),a.gym&&l.push("gym"),a.canteen&&l.push("canteen"),a.studyRoom&&l.push("studyRoom"),a.tv&&l.push("tv"),a.security&&(a.security.cctv||a.security.securityGuards||a.security.biometricEntry)&&l.push("security"),l.slice(0,4)},z=a=>{if(!a||a.length===0)return 0;const l=a.filter(t=>t.availability>0);return l.length===0?0:Math.min(...l.map(t=>t.pricePerMonth))},B=a=>!a||a.length===0?0:a.reduce((l,t)=>l+t.availability,0),W=()=>C(Math.max(1,o-1)),$=()=>C(Math.min(S,o+1));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx(Z,{})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Find Your Perfect Stay"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Browse through our curated selection of hostels and PGs designed for students"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:[e.jsx(X,{type:"text",placeholder:"Search by name or location...",value:d,onChange:a=>y(a.target.value),className:"w-72 rounded-full border-purple-200 focus:ring-purple-500"}),e.jsxs(T,{value:x,onValueChange:N,children:[e.jsx(M,{className:"w-56",children:e.jsx(L,{placeholder:"Select College"})}),e.jsxs(R,{children:[e.jsx(s,{value:"all",children:"All Colleges"}),e.jsx(s,{value:"iitb",children:"IIT Bombay"}),e.jsx(s,{value:"vjti",children:"VJTI Mumbai"}),e.jsx(s,{value:"ict",children:"Institute of Chemical Technology (ICT)"}),e.jsx(s,{value:"spit",children:"Sardar Patel Institute of Technology"}),e.jsx(s,{value:"kjsce",children:"KJ Somaiya College of Engineering"}),e.jsx(s,{value:"djsce",children:"DJ Sanghvi College of Engineering"}),e.jsx(s,{value:"mpstme",children:"Mukesh Patel School of Technology"}),e.jsx(s,{value:"nmims",children:"NMIMS University"}),e.jsx(s,{value:"rait",children:"Ramrao Adik Institute of Technology (RAIT)"}),e.jsx(s,{value:"tcet",children:"Thakur College of Engineering and Technology"}),e.jsx(s,{value:"sfit",children:"St. Francis Institute of Technology"}),e.jsx(s,{value:"siesgst",children:"SIES Graduate School of Technology"}),e.jsx(s,{value:"dbit",children:"Don Bosco Institute of Technology"}),e.jsx(s,{value:"xavier",children:"Xavier Institute of Engineering"}),e.jsx(s,{value:"tpoly",children:"Thakur Polytechnic"})]})]}),e.jsxs(T,{value:m,onValueChange:b,children:[e.jsx(M,{className:"w-56",children:e.jsx(L,{placeholder:"Select Location"})}),e.jsxs(R,{children:[e.jsx(s,{value:"all",children:"All Locations"}),e.jsx(s,{value:"Mumbai",children:"Mumbai"}),e.jsx(s,{value:"Delhi",children:"Delhi"}),e.jsx(s,{value:"Bangalore",children:"Bangalore"}),e.jsx(s,{value:"Hyderabad",children:"Hyderabad"}),e.jsx(s,{value:"Chennai",children:"Chennai"}),e.jsx(s,{value:"Kolkata",children:"Kolkata"}),e.jsx(s,{value:"Pune",children:"Pune"}),e.jsx(s,{value:"Ahmedabad",children:"Ahmedabad"}),e.jsx(s,{value:"Jaipur",children:"Jaipur"}),e.jsx(s,{value:"Kota",children:"Kota"}),e.jsx(s,{value:"Lucknow",children:"Lucknow"}),e.jsx(s,{value:"Kanpur",children:"Kanpur"}),e.jsx(s,{value:"Nagpur",children:"Nagpur"}),e.jsx(s,{value:"Indore",children:"Indore"}),e.jsx(s,{value:"Thane",children:"Thane"}),e.jsx(s,{value:"Bhopal",children:"Bhopal"}),e.jsx(s,{value:"Prayagraj",children:"Prayagraj"}),e.jsx(s,{value:"Patna",children:"Patna"}),e.jsx(s,{value:"Varanasi",children:"Varanasi"}),e.jsx(s,{value:"Surat",children:"Surat"}),e.jsx(s,{value:"Coimbatore",children:"Coimbatore"}),e.jsx(s,{value:"Guwahati",children:"Guwahati"}),e.jsx(s,{value:"Bhubaneswar",children:"Bhubaneswar"}),e.jsx(s,{value:"Dehradun",children:"Dehradun"}),e.jsx(s,{value:"Mysore",children:"Mysore"}),e.jsx(s,{value:"Chandigarh",children:"Chandigarh"}),e.jsx(s,{value:"Vijayawada",children:"Vijayawada"}),e.jsx(s,{value:"Ranchi",children:"Ranchi"}),e.jsx(s,{value:"Raipur",children:"Raipur"})]})]}),e.jsxs(T,{value:g,onValueChange:w,children:[e.jsx(M,{className:"w-44",children:e.jsx(L,{placeholder:"Price Range"})}),e.jsxs(R,{children:[e.jsx(s,{value:"none",children:"No Limit"}),e.jsx(s,{value:"5000",children:"Under ₹5,000"}),e.jsx(s,{value:"10000",children:"Under ₹10,000"}),e.jsx(s,{value:"15000",children:"Under ₹15,000"})]})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(I,{onClick:()=>{y(""),b("all"),w("none"),N("all")},className:"text-sm",children:"Reset Filters"})}),e.jsxs("div",{className:"text-center mb-6 text-gray-600",children:["Found ",c.length," properties with available rooms"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10",children:K?[...Array(6)].map((a,l)=>e.jsxs(D,{className:"overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs(E,{className:"p-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 mb-2 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 mb-4 rounded w-3/4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]},l)):A.length>0?A.map(a=>e.jsxs(D,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:a.images&&a.images.length>0?a.images[0]:"/placeholder-hostel.jpg",alt:a.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:["₹",z(a.roomTypes).toLocaleString(),"/month"]}),e.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:[B(a.roomTypes)," ",B(a.roomTypes)===1?"room":"rooms"," ","available"]}),a.hostelType&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium capitalize",children:a.hostelType})]}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:a.name}),e.jsxs("p",{className:"text-gray-600 text-sm mb-2 flex items-center",children:[e.jsx(ee,{className:"h-4 w-4 mr-1 text-gray-400"}),a.location]}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"flex mr-1",children:G(a.rating||0)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.reviews?a.reviews.length:0," reviews)"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.facilities&&J(a.facilities).map(l=>e.jsxs("span",{className:"inline-flex items-center text-xs bg-purple-50 text-purple-700 px-2 py-1 rounded",children:[he[l],l==="studyRoom"?"Study Room":l.charAt(0).toUpperCase()+l.slice(1)]},l))}),e.jsx(I,{onClick:()=>{_(`/hostel/${a.hostelId}`)},className:"w-full bg-purple-600 hover:bg-purple-700 transition-colors",children:"View Details"})]})]},a._id)):e.jsxs("div",{className:"col-span-full text-center py-10",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No properties found matching your criteria."}),e.jsx(I,{onClick:()=>{y(""),b("all"),w("none"),N("all")},variant:"outline",className:"mt-4",children:"Clear Filters"})]})}),c.length>j&&e.jsx("div",{className:"flex justify-center",children:e.jsx(V,{children:e.jsxs(H,{children:[e.jsx(p,{children:e.jsx(v,{onClick:W,disabled:o===1,children:"Previous"})}),[...Array(S)].map((a,l)=>e.jsx(p,{children:e.jsx(v,{onClick:()=>C(l+1),className:l+1===o?"bg-purple-500 text-white":"",children:l+1})},l)),e.jsx(p,{children:e.jsx(v,{onClick:$,disabled:o===S,children:"Next"})})]})})})]}),e.jsx(Q,{})]})}export{Pe as default};
